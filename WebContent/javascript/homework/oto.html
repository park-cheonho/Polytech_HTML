<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>"나~는 행복합니다 ♬"</title>
<script>

	function compare(a, b){
		for(let v=0; v<a.length||v<b.length; v++){
			if(a[v] != b[v]){
				return "false";
			}else{
				continue;
			}
		}
	}
	var dict = ["rainbow", "banana", "boat", "apple", "icecream"];
	
	let select = Math.floor(Math.random()*5); //0~4
	let selectDic = dict[select]; //문자 하나 뽑기
	
	//alert(selectDic); // 테스트용
	
	let leng = selectDic.length; //해당 문자의 길이 출력
	
	let check=[];	//뽑힌 문자열의 개별 문자를 배열로 만든 것
	for(let z = 0; z<leng; z++){
		check[z]=selectDic.substr(z, 1);
	}
	
	let MAX = 6; // 최대 기회 6번
	
	let byeoul=[];
	for(let y=0; y<leng; y++){
		byeoul[y] = '*';
	}
	let checkuser = [];
		alert("게임을 시작합니다. (참고용 : "+selectDic+")");
	
	total : while(true){
		 
		alert(byeoul);
		let tex = prompt("a~z 중 하나의 알파벳을 입력하세요.");
		
		//넣은 문자열이 뽑은 문자열 중 하나와 일치할 때
		let che = 0;
		for(p=0; p<leng; p++){
			if(tex==check[p]){
				checkuser[p]=tex;
				byeoul[p]=tex;
				che++;
			}
		}
		if(MAX==0){
			alert("모든 기회를 소진하였습니다. 게임을 종료합니다.");
			break;
		}
		if(che==0){
			alert(tex+"는 존재하지 않습니다. \n 기회가 "+MAX+"번 남았습니다.");
			MAX--;
		}else{
			let kk = prompt(byeoul+"단어를 아시겠습니까?");
			let check2 = [];
			if(kk=='y'){
				let hh = prompt(byeoul+"\n 단어를 입력하세요.");
				for(let q = 0; q<hh.length; q++){
					check2[q]=hh.substr(q, 1);
				}
				let uu = compare(check, check2);
				if(uu!='false'){
					alert("성공했습니다!");
					break total;
				}
			}
		}
		
		let jj = compare(check, checkuser);
		
		if(jj !='false'){
			alert("성공했습니다!");
			break;
		}
		
	}
	

</script>
</head>
<body>

</body>
</html>